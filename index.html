<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Midget or Miner - Ultimate Version</title>
  <style>
    body {
      background-color: #000;
      color: white;
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      text-align: center;
      overflow: hidden;
    }
    .container {
      margin-top: 50px;
    }
    .images {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-top: 30px;
      gap: 50px;
    }
    .images img {
      width: 200px;
      border-radius: 15px;
      border: 3px solid white;
    }
    #arrow {
      font-size: 4rem;
      margin-top: 20px;
      height: 60px;
    }
    #winner {
      margin-top: 40px;
      font-size: 4rem;
      font-weight: bold;
      display: none;
    }
    #fireworks {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      display: none;
    }
    #play-again {
      margin-top: 40px;
      padding: 15px 30px;
      font-size: 1.5rem;
      background-color: red;
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
    }
  </style>
</head>
<body>

<div class="container">
  <h1>Midget or Miner</h1>
  <div class="images">
    <img id="img1" src="download.jpg" alt="Midget">
    <img id="img2" src="download-1.jpg" alt="Miner">
  </div>
  <div id="arrow">⬅️</div>
  <div id="winner">WINNER!</div>
  <button id="play-again">Play Again</button>
</div>

<canvas id="fireworks"></canvas>

<script>
  const playButton = document.getElementById('play-again');
  const arrow = document.getElementById('arrow');
  const winnerText = document.getElementById('winner');
  const fireworksCanvas = document.getElementById('fireworks');
  const ctx = fireworksCanvas.getContext('2d');

  let arrowInterval;
  let currentArrow = 0;

  // Resize fireworks canvas
  function resizeCanvas() {
    fireworksCanvas.width = window.innerWidth;
    fireworksCanvas.height = window.innerHeight;
  }
  window.addEventListener('resize', resizeCanvas);
  resizeCanvas();

  function startGame() {
    winnerText.style.display = 'none';
    fireworksCanvas.style.display = 'none';
    ctx.clearRect(0, 0, fireworksCanvas.width, fireworksCanvas.height);

    let duration = 2000; // 2 seconds
    let flashSpeed = 100; // Arrow moves every 100ms

    arrow.textContent = "⬅️";

    arrowInterval = setInterval(() => {
      currentArrow = 1 - currentArrow;
      arrow.textContent = currentArrow === 0 ? "⬅️" : "➡️";
    }, flashSpeed);

    setTimeout(() => {
      clearInterval(arrowInterval);

      const winner = Math.random() < 0.5 ? 0 : 1;
      arrow.textContent = winner === 0 ? "⬅️" : "➡️";

      winnerText.style.display = 'block';

      startFireworks();
    }, duration);
  }

  playButton.addEventListener('click', startGame);

  // Fireworks animation
  let fireworks = [];

  function random(min, max) {
    return Math.random() * (max - min) + min;
  }

  function createFirework() {
    return {
      x: random(0, fireworksCanvas.width),
      y: fireworksCanvas.height,
      vx: random(-2, 2),
      vy: random(-7, -3),
      radius: random(2, 4),
      color: `hsl(${Math.floor(Math.random() * 360)}, 100%, 50%)`,
      alpha: 1
    };
  }

  function startFireworks() {
    fireworksCanvas.style.display = 'block';

    fireworks = Array.from({ length: 50 }, createFirework);

    function animate() {
      ctx.fillStyle = "rgba(0, 0, 0, 0.1)";
      ctx.fillRect(0, 0, fireworksCanvas.width, fireworksCanvas.height);

      fireworks.forEach((f, i) => {
        f.x += f.vx;
        f.y += f.vy;
        f.vy += 0.05;
        f.alpha -= 0.01;

        ctx.beginPath();
        ctx.arc(f.x, f.y, f.radius, 0, Math.PI * 2);
        ctx.fillStyle = f.color;
        ctx.globalAlpha = f.alpha;
        ctx.fill();

        if (f.alpha <= 0) {
          fireworks[i] = createFirework();
        }
      });

      ctx.globalAlpha = 1;

      requestAnimationFrame(animate);
    }

    animate();
  }
</script>

</body>
</html>
